From 63d809c5b51ca252156fcac73d1059b50be47c56 Mon Sep 17 00:00:00 2001
From: Marek 'marx' Grac <mgrac@redhat.com>
Date: Thu, 19 Feb 2015 15:10:55 +0100
Subject: [PATCH 2/3] fencing: Fence agents can have --ssl turned on by default
 so --ssl-secure will not have impact

---
 fence/agents/lib/fencing.py.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/fence/agents/lib/fencing.py.py b/fence/agents/lib/fencing.py.py
index 4d7658a..efb8656 100644
--- a/fence/agents/lib/fencing.py.py
+++ b/fence/agents/lib/fencing.py.py
@@ -977,7 +977,7 @@ def _open_ssl_connection(options):
 
 	# --ssl is same as the --ssl-insecure; it means we DO NOT want to verify certificate in these cases
 	# this is unique to RHEL6 environment
-	if options.has_key("--ssl-insecure") or options.has_key("--ssl"):
+	if not options.has_key("--ssl-secure"):
 		ssl_opts = "--insecure"
 
 	command = '%s %s %s --crlf -p %s %s' % \
-- 
1.9.3

