From 69c7386252613b7116c0ba1c1e295e525bf4c482 Mon Sep 17 00:00:00 2001
From: Marek 'marx' Grac <mgrac@redhat.com>
Date: Wed, 18 Feb 2015 15:28:08 +0100
Subject: [PATCH] fence_vmware_soap: Remove exception for SSL validation that
 cannot be met

---
 fence/agents/vmware_soap/fence_vmware_soap.py | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/fence/agents/vmware_soap/fence_vmware_soap.py b/fence/agents/vmware_soap/fence_vmware_soap.py
index ebd3491..adbe28e 100644
--- a/fence/agents/vmware_soap/fence_vmware_soap.py
+++ b/fence/agents/vmware_soap/fence_vmware_soap.py
@@ -58,7 +58,7 @@ def soap_login(options):
 
 	try:
 		headers = {"Content-Type" : "text/xml;charset=UTF-8", "SOAPAction" : ""}
-		conn = Client(url + "/vimService.wsdl", location=url, headers=headers)
+		conn = Client(url + "/vimService.wsdl", location=url)
 
 		mo_ServiceInstance = Property('ServiceInstance')
 		mo_ServiceInstance._type = 'ServiceInstance'
@@ -67,8 +67,6 @@ def soap_login(options):
 		mo_SessionManager._type = 'SessionManager'
 
 		conn.service.Login(mo_SessionManager, options["--username"], options["--password"])
-	except requests.exceptions.SSLError, ex:
-		fail_usage("Server side certificate verification failed")
 	except Exception:
 		fail(EC_LOGIN_DENIED)
 
-- 
1.9.3

